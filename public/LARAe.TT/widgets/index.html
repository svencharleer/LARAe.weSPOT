<html>
<head>
    <title>LARAe.TT</title>
    <script type="text/javascript" src="../3rdParty/crossfilter.js"></script>
    <script type="text/javascript" src="../3rdParty/jquery-2.1.1.min.js"></script>
    <script type="text/javascript" src="../3rdParty/d3.min.js"></script>
    <script type="text/javascript" src="../data/load.js"></script>

    <script type="text/javascript" src="barchart.js"></script>
    <script type="text/javascript" src="eventflow.js"></script>
    <script type="text/javascript" src="eventrelation.js"></script>
    <script type="text/javascript" src="cluster.js"></script>

    <link rel="stylesheet" href="barchart.css">

    <script type="application/javascript">



        function loadWidgets(data)
        {

            //filter it
            var xf = crossfilter(data);
            var byUser = xf.dimension(function(d){return d.username.toLowerCase();});
            var byPhase = xf.dimension(function(d){return d.context.phase;});

            byPhase.filter(2);
            eventRelation.eventrelation_init(byUser.top("Infinity"), "Total");

            byUser.filter("google_105939139551108473521");
            var newData=  byUser.top("Infinity");

            //barchart_init(data);
            //eventflow_init(data);
            eventRelation.eventrelation_init(newData, "George");

            byUser.filter("facebook_696307806");
            newData=  byUser.top("Infinity");
            eventRelation.eventrelation_init(newData, "Geoff");
            //cluster.init(data,"cl");
        }

    </script>
</head>
<body onload="javascript:load(loadWidgets);">
</body>
</html>